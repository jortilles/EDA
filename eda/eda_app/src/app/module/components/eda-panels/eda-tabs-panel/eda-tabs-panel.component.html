<div class="flex flex-col h-full rounded-lg pl-2 pt-2 pr-2 bg-white" [ngStyle]="panelContent">
    <div class="flex h-full pb-2 items-stretch drag-handler">
        <div class="flex flex-wrap gap-2 items-center justify-center content-center flex-grow rounded-lg bg-gray-50 p-2">
            <!-- Loading state -->
            <div *ngIf="isLoading" class="text-gray-500 text-sm">
                <i class="pi pi-spin pi-spinner mr-2"></i>
                Cargando...
            </div>

            <!-- Empty state -->
            <div *ngIf="!isLoading && filteredDashboards.length === 0" class="text-gray-400 text-sm text-center p-4">
                <i class="pi pi-info-circle mr-2"></i>
                Configura las pesta√±as para mostrar dashboards
            </div>

            <!-- Dashboard tabs -->
            <button *ngFor="let dashboard of filteredDashboards"
                class="tab-button px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:opacity-80 cursor-pointer border-b-2 border-transparent hover:border-current"
                [ngStyle]="panelText"
                (click)="openDashboard(dashboard)">
                <i class="pi pi-external-link mr-2 text-xs"></i>
                {{ dashboard.title }}
            </button>
        </div>
        <i *ngIf="display.editMode" class="pi pi-ellipsis-v cursor-pointer ml-2 content-center"
            (click)="contextMenu.showContextMenu($event)"></i>
    </div>
</div>

<eda-context-menu [inject]="contextMenu"></eda-context-menu>
<app-edit-tabs-dialog *ngIf="editTabsController" [controller]="editTabsController"></app-edit-tabs-dialog>
