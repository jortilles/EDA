<eda-dialog2 [display]="display"
  header="Add View" width="50vw" height="70vh"
  [disableApply]="!ok"
  (apply)="onApply()"
  (close)="onClose()">

  <div content> 
    <form [formGroup]="form" class="grid space-y-5">
      <div class="">
        <label for="name" class="font-medium">Name <span class="text-red-500">*</span></label>
        <input
          id="name"
          type="text"
          formControlName="viewName"
          placeholder="Enter view name"
          class="w-full border rounded-md p-2 focus:ring-1 focus:ring-emerald-500"
        />
      </div>

      <div class="">
        <label for="description" class="font-medium">Description</label>
        <input
          id="description"
          type="text"
          formControlName="description"
          placeholder="Enter a brief description"
          class="w-full border rounded-md p-2 focus:ring-1 focus:ring-emerald-500"
        />
      </div>

      <div class="">
        <label for="technicalName" class="font-medium">Technical Name</label>
        <input
          id="technicalName"
          type="text"
          formControlName="technical_name"
          placeholder="Enter technical identifier"
          class="w-full border rounded-md p-2 focus:ring-1 focus:ring-emerald-500"
        />
      </div>

      <div class="">
        <label for="sqlExpression" class="font-medium">SQL Expression</label>
        <textarea
          id="sqlExpression"
          formControlName="SQLexpression"
          rows="5"
          placeholder="Enter your SQL query here"
          class="w-full border rounded-md p-2 font-mono text-sm focus:ring-1 focus:ring-emerald-500"
        ></textarea>
      </div>

      <div>
        <button
          type="button"
          class="w-full sm:w-auto bg-gray-200 text-black rounded-md px-4 py-2"
          [disabled]="isGenerating"
          (click)="checkView()"
        >
          {{ isGenerating ? 'Generating...' : 'Generate view' }}
        </button>
      </div>
    </form>
  </div>
</eda-dialog2>

